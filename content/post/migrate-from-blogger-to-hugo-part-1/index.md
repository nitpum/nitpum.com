---
title: "ย้ายบล็อกจาก Blogger ไป Hugo - Part 1"
date: 2022-01-01T00:00:00+07:00
draft: true
---

สวัสดีครับ ตอนนี้ผมได้ย้ายบล็อกจาก Blogger ไปใช้ Hugo เรียบร้อยแล้ว โพตส์นี้เลยอยากจะมาเล่ากึ่งบันทึกว่าได้ทำอะไรไปบ้าง

## ทำไมถึงย้าย?

บล็อกเดิมตั้งแต่เปิดมาก็ใช้ [Blogger](https://www.blogger.com) มาโดยตลอดไม่เคยย้ายออกไปที่ไหนเลย ด้วยความที่ว่ามันใช้ได้**ฟรี + ใช้ง่าย**เลยเลือกใช้ตัวนี้มาตั้งแต่ตอนนั้น

ถึงอย่างนั้นการใช้ Blogger ก็ยังมีปัญหาอยู่

- **เขียนธีมเองยาก** ธีมที่ให้มามันไม่ค่อยถูกใจเท่าไร เลยต้องเขียนธีมขึ้นมาใช้เอง แต่ด้วยความที่ธีมต้องเขียนด้วย XML ฉบับพิเศษของ Blogger เอง ทำให้จะแก้แต่ละทีต้องไปตบตีกับ XML สุดพิเศษนี้ที่รวม HTML + JS + CSS ไว้ด้วยกันในไฟล์เดียว! แถมหน้าแต่ละหน้ามีหน้าตาไม่เหมือนกันก็ต้องเขียนรวมไว้ในไฟล์เดียว แล้วเขียนเงื่อนไขครอบการแสดงผลเอา
- **เว็บบวม** นอกจาก js และ css ที่เราใส่เองแล้ว ยังมีของจาก Blogger ที่แปะเพิ่มเข้ามา แถมเอาออกไม่ได้ด้วย ทำให้เว็บเราโหลดช้าขึ้นโดยไม่จำเป็น
- **ไม่ได้เป็นเจ้าของแพลตฟอร์ม** ไม่ว่าจะเป็น Blogger, Medium, Tumblr, Facebook หรือ อื่นๆ ล้วนแล้วแต่เป็นแพลตฟอร์มที่เราใช้บริการอยู่ แพลตฟอร์มเป็นคนกำหนดว่าอะไรควรอยู่อะไรไม่ควรอยู่ อย่างที่ Facebook Page โดนลด Reach ลง หรือถ้าเกิดวันหนึ่ง Medium ตัดสินใจให้มีป็อบอัพโฆษาในเว็บ เราก็ทำอะไรไม่ได้ เราเป็นแค่ผู้ใช้บริการ เราไม่ได้เป็นเจ้าของแพลตฟอร์ม
- **ความเป็นส่วนตัวของผู้อ่าน** ทุกวันนี้แพลตฟอร์มต่างๆ เก็บข้อมูลและรู้เรื่องราวเกี่ยวกับเราเยอะเกินไป แน่นอนว่าสำหรับแพลตฟอร์มฝากบล็อกเองก็มีการเก็บข้อมูลอยู่แล้ว ผู้ที่เข้ามาอ่านบล็อกเราก็จะโดนเก็บข้อมูลไปด้วย ถ้าผมอยากลดการเก็บข้อมูลพวกนี้ลงหรือไม่เก็บเลย ผมจะทำอะไรแบบนั้นไม่ได้ถ้ายังใช้แพลตฟอร์มคนอื่นอยู่

นั้นเลยเป็นที่มาว่าทำไมถึงอยากย้ายบล็อกออกจาก Blogger ไปไว้ที่อื่นที่

## Self-Hosted

ถ้าไม่ฝากบล็อกไว้กับแพลตฟอร์มออนไลน์เราก็ต้องเช่าเซิฟเวอร์มาเปิดบล็อกเอง ตัวระบบบล็อกเราอาจจะเขียนขึ้นมาเองด้วย PHP, NodeJS หรือภาษาอื่นๆ ตามแต่ถนัด ไม่ก็อาจจะใช้ CMS ที่มีอยู่แล้วไม่ว่าจะเป็น WordPress หรือ Ghost สอง CMS ยอดนิยมสำหรับทำบล็อก

ไม่ว่าจะแบบไหนก็มีหลักการทำงานที่เหมือนกันคือ ทุกๆ ครั้งที่มีคนเข้าเว็บไซต์เซิฟเวอร์ต้องไปดึงข้อมูลจาก Database เอามาประมวลผลและเรนเดอร์ออกมาเป็นเว็บไซต์ที่สวยงามให้เรา

นั้นหมายความว่าเราจะต้องมี Database สำหรับเก็บข้อมูล และเซิฟเวอร์ที่แรงพอสำหรับใช้ในการประมวลผล ค่าจ่ายตรงนี้อาจไม่สูงแต่สำหรับบล็อกส่วนตัวที่ไม่ค่อยได้อัพเดทก็ดูไม่ค่อยคุ้มสักเท่าไร ไหนจะเรื่องแบล็คอัพข้อมูลจาก Database ที่ไม่ได้ทำง่ายๆ อีก

## Static Site Generator

เราจะคอยเรนเดอร์หน้าเว็บไซต์ทุกครั้งที่มีคนเข้าเว็บไปทำไมในเมื่อเนื้อหาก็เหมือนเดิม นานๆ ทีจะมีอัพเดท...

ทำไมเราเรนเดอร์ทีเดียวแล้วเก็บไว้ใช้ตลอดละ? มีอัพเดทค่อยไปเรนเดอร์ใหม่เอา  

Static Site Generator หรือ SSG จึงเกิดมาเพื่อแก้ปัญหานี้

แทนที่เราจะเก็บโพตส์เราลง Database ก็เปลี่ยนมาเก็บเป็นไฟล์ [Markdown](https://en.wikipedia.org/wiki/Markdown) แทน จากนั้นก็รัน SSG ให้ไปอ่านไฟล์ Markdown เอาไป Generate ออกมาเป็นไฟล์ HTML ทุกหน้าของเว็บไซต์เรา แล้วเราก็เอาไฟล์ HTML ที่ได้มาไปอัพขึ้นเซิฟเวอร์ ทุกครั้งที่เราจะอัพเดทเว็บไซต์ก็แค่รัน SSG ใหม่แล้วเอาไฟล์ HTML ไปอัพโหลดขึ้นเซิฟก็จบ

ข้อดีของการทำแบบนี้คือเซิฟเวอร์ที่เราเช่าไม่จำเป็นจะต้องแรงขอแค่ฝากไฟล์ HTML ได้ ไม่ต้องมี Database ทำให้ประหยัดค่าใช้จ่ายขึ้น และเว็บไซต์เรายังเร็วขึ้นอีกด้วยเพราะไม่ต้องรอประมวลข้อมูลจาก Database แถมพอเก็บเป็นไฟล์ Markdown จะแบล๊คอัพขึ้น Cloud หรือ Flash drive ก็ทำได้ไม่โดนผูกไว้กับแพลตฟอร์มได้แพลตฟอร์มหนึ่ง จะแก้ไขตอนไหนก็ได้แม้แต่ตอนออฟไลน์ และด้วยความที่เป็น Text based เราจะเปิดแก้ไขด้วยโปรแกรมอะไรก็ได้ จะใช้ Notepad หรือ VSCode ก็เลือกใช้ได้ตามใจชอบเลย

**ข้อดี**
- ไม่ต้องมี Database สำหรับเก็บข้อมูล
- ประหยัดค่าใช้จ่าย ไม่ต้องเช่าเซิฟแรงๆ สำหรับประมวลข้อมูลจาก Database ขอแค่ฝากไฟล์ HTML ได้ก็พอแล้ว
- แบล็คอัพข้อมูลง่าย ทุกอย่างถูกเก็บเป็นไฟล์ในเครื่องเรา จะเก็บลง Flash Drive, External Drive หรือ Cloud ก็ทำได้หมดเลย
- จัดฟอร์แมตได้ง่าย ด้วยความที่เนื้อหาของโพตส์เราจะเขียนเก็บในรูปแบบของ Markdown ซึ่งตัวมันเองเราสามารถเขียน
- แก้เนื้อหาด้วยโปรแกรมอะไรก็ได้ ทุกอย่างเราเก็บเป็นไฟล์แบบ Text-based อยู่แล้ว หมายความว่าเวลาแก้ไขเนื้อหาก็แค่ใช้โปรแกรมที่เปิดไฟล์ Text ได้อย่าง  Notepad, VSCode, Vim หรืออื่นๆ ได้ตามที่ต้องการเลย
- เขียนบล็อกได้แม้ออฟไลน์อยู่ พอทุกอย่างมันเป็นไฟล์ในเครื่องเราอยู่แล้วก็ไม่จำเป็นต้องต่อเน็ตอีกต่อไป (ตอนอัพขึ้นเซิฟเวอร์ยังต้องต่อเน็ตอยู่)

<!-- // TODO: Markdown format style -->

ข้อเสียของวิธีการนี้คือเราต้องจัดเก็บรักษาข้อมูลเอาเอง ต้องรัน SSG ใหม่ทุกครั้งที่มีการอัพเดทเนื้อหา และต้องเอา HTML อัพขึ้นเซิฟใหม่ตลอด แต่สำหรับบล็อกเล็ก ๆ ดูจะไม่ใช่ปัญหาสักเท่าไร

**ข้อเสีย**
- ต้องเก็บรักษาข้อมูลเอง
- รัน SSG ทุกครั้ง
- อัพขึ้นเซิฟเอง

## Hugo

SSG ในปัจจุบันก็มีตัวเลือกให้ใช้อยู่หลายตัว ไม่ว่าจะเป็น [**Jekyll**](https://jekyllrb.com/), [**Hexo**](https://hexo.io/), [**Middleman**](https://middlemanapp.com/), [**Gastsby**](https://www.gatsbyjs.com/), [**Gridsome**](https://gridsome.org/) และอื่นๆ

สำหรับผมแล้วมาจบที่ [Hugo](https://gohugo.io/) ด้วยความที่บล็อกผมไม่ได้ต้องการอะไรมาก ไม่ได้ทำลูกเล่นอะไรน่าเว็บอยู่แล้วเลยไม่จำเป็นต้องใช้ Client Side Rendering (CSR) ขออะไรที่ใช้ได้ง่ายและเร็วก็พอแล้ว ซึ่ง Hugo ตอบโจทย์นี้ทั้งหมด

- **เร็ว** Hugo เขียนด้วย Go เลยทำงานเร็วมากเมื่อ[เทียบกับ SSG ตัวอื่นๆ](https://css-tricks.com/comparing-static-site-generator-build-times/) ไฟล์เยอะแค่ไหนก็ยังเร็วอยู่
- **ครบจบในตัว** อยากทำ Post-process เหรอทำได้เลย อยากเขียน SASS / SCSS เหรอเขียนได้เลย จะทำ minify หรือ bundle ก็ยังได้ ไม่ต้องลง node modules หรืออะไรเลย เรียกได้ว่ามีทุกอย่างครบจบในตัว
- **ใช้ได้เลย** โหลดมาลงแล้วใช้ได้เลย ไม่มี dependency ไม่มี node_modules ไม่ต้องลงอะไรเพิ่ม

## SSG + Git

พอเก็บทุกอย่างเป็นไฟล์เลยเอาไปใช้กับ version control อย่าง Git ได้! ซึ่งก็จะได้ประโยชน์ของ git มาด้วย เป็นการเป็บประวัติการแก้ไขไปในตัว ได้การเก็บข้อมูลแบบกระจายศูนย์เอาไปอัพทิ้งไว้ที่ git provider ไหนก็ได้ไม่ต้องกลัวโดนล็อกอยู่บริการของเจ้าไหน ไม่ต้องกลัวข้อมูลจะหายเพราะแบล๊คอัพได้หลายที่

## Netlify

เผื่อใครไม่รู้ผมเคยเขียนบนความ "[ฝาก Static Website ไว้กับ Netlify]( {{< ref "hello-netlify" >}})" ลองไปอ่านดูกันได้ครับ 😉

[Netlify](https://www.netlify.com) ให้บริการฝากเว็บไซต์ไว้บน CDN ทั่วโลก แค่เราอัพ Git repo ไปเก็บไว้ที่ GitHub, Gitlab หรือ Bitbucket แล้วเอามาเชื่อมไว้กับ Netlify

ทุก ๆ ครั้งที่มี commit ใหม่ Netlify ก็จะอัพโหลดเว็บไซต์เราให้อัตโนมัติ ซึ่งเราสามารถตั้งค่าให้ใช้ SSG ได้ทุกตัว เราเลยไม่ต้องมารันใหม่เองทุกครั้งที่จะอัพเดทเนื้อหา

ตัว Netlify เองใช้ได้ฟรีแบบมีข้อจำกัดแบนด์วิดท์(Bandwith)ให้ 100GB/เดือน และจำกัดเวลารัน(ฺBuild time) 300 นาที/เดือน แต่เสียเงินเพื่ออัพเกรดเพิ่มได้ สำหรับบล็อกของผมเองที่ให้มาฟรีก็ถือว่าเพียงพอแล้ว

Hugo + Git + Netlify นี้เรียกได้สมบูรณ์แบบสุดๆ ไปเลยครับ ที่สำคัญคือ**ฟรี**ไม่มีค่าใช้จ่ายอะไรเลย (ไม่นับค่าโดเมนเว็บไซต์นะครับ)

## ย้ายเนื้อหา

จะย้ายด้วยมือทีละบทความก็ดูจะยังไงอยู่ ดีตรงที่ว่าตัว Blogger เองมีปุ่มให้ export บทความทั้งหมดออกมาได้ครับ ไปที่ Settings > หัวข้อ "Manage Blog" > กด Back up Content > Download เพียงเท่านี้เราก็จะได้บทความทั้งหมดออกมาในรูปแบบไฟล์ XML ในไฟล์เดียว

เอาละได้ไฟล์ XML มาแล้ว แต่ว่ายังใช้

**Tools**

https://github.com/palaniraja/blog2md

## Theme
