---
title: "ย้ายบล็อกจาก Blogger ไป Hugo"
date: 2021-10-02T22:01:40+07:00
draft: true
minimizeToc: true
---

สวัสดีครับ ตอนนี้ผมได้ย้ายบล็อกจาก Blogger ไปใช้ Hugo เรียบร้อยแล้ว โพตส์นี้เลยอยากจะมาเล่าเหตุผลในการย้าย และขั้นตอนระหว่างนั้นว่ามีทำอะไรบ้าง

## ทำไมถึงย้าย?

บล็อกเดิมตั้งแต่เปิดมาก็ใช้ [Blogger](https://www.blogger.com) มาโดยตลอดไม่เคยย้ายออกไปที่ไหนเลย ด้วยความที่ว่ามันใช้ได้**ฟรี + ใช้ง่าย**เลยเลือกใช้ตัวนี้มาตั้งแต่ตอนนั้น 

ถึงอย่างนั้นการใช้ Blogger ก็ยังมีปัญหาอยู่

- **เขียนธีมเองยาก** ธีมที่ให้มามันไม่ค่อยถูกใจเท่าไร เลยต้องเขียนธีมขึ้นมาใช้เอง แต่ด้วยความที่ธีมต้องเขียนด้วย XML ฉบับพิเศษของ Blogger เอง ทำให้จะแก้แต่ละทีต้องไปตบตีกับ XML สุดพิเศษนี้ที่รวม HTML + JS + CSS ไว้ด้วยกันในไฟล์เดียว! แถมหน้าแต่ละหน้ามีหน้าตาไม่เหมือนกันก็ต้องเขียนรวมไว้ในไฟล์เดียว แล้วเขียนเงื่อนไขครอบการแสดงผลเอา
- **เว็บบวม** นอกจาก js และ css ที่เราใส่เองแล้ว ยังมีของจาก Blogger ที่แปะเพิ่มเข้ามาแถมเอาออกไม่ได้ด้วย ทำให้เว็บเราโหลดช้าขึ้นโดยไม่จำเป็น
- **ไม่ได้เป็นเจ้าของแพลตฟอร์ม** ไม่ว่าจะเป็น Blogger, Medium, Tumblr, Facebook หรือ อื่นๆ ล้วนแล้วแต่เป็นแพลตฟอร์มที่เราใช้บริการอยู่ แพลตฟอร์มเป็นคนกำหนดว่าอะไรควรอยู่อะไรไม่ควรอยู่ อย่างที่ Facebook Page โดนลด Reach ลง หรือถ้าเกิดวันหนึ่ง Medium ตัดสินใจให้มีป็อบอัพโฆษาในเว็บ เราก็ทำอะไรไม่ได้ เราเป็นแค่ผู้ใช้บริการ เราไม่ได้เป็นเจ้าของแพลตฟอร์ม

นั้นเลยเป็นที่มาว่าทำไมถึงอยากย้ายบล็อกออกจาก Blogger ไปไว้ที่อื่นที่

## Self-Hosted

ถ้าไม่ฝากบล็อกไว้กับแพลตฟอร์มออนไลน์เราก็ต้องเช่าเซิฟเวอร์มาเปิดบล็อกเอง ตัวระบบบล็อกเราอาจจะเขียนขึ้นมาเองด้วย PHP, NodeJS  หรือภาษาอื่นๆ ตามแต่ถนัด ไม่ก็อาจจะใช้ CMS ที่มีอยู่แล้วไม่ว่าจะเป็น WordPress หรือ Ghost สอง CMS ยอดนิยมสำหรับทำบล็อก 

ไม่ว่าจะเขียนระบบใช้เองหรือใช้ CMS ทุก ๆ ครั้งที่มีคนเข้าเว็บไซต์เซิฟเวอร์ต้องไปดึงข้อมูลจาก Database เอามาประมวลผลและเรนเดอร์ออกมาเป็นเว็บไซต์ที่สวยงามให้เรา

นั้นหมายความว่าเราจะต้องมี Database สำหรับเก็บข้อมูล และเซิฟเวอร์ที่แรงพอสำหรับใช้ในการประมวลผล ค่าจ่ายตรงนี้อาจไม่สูงแต่สำหรับบล็อกส่วนตัวที่ไม่ค่อยได้อัพเดทก็ดูไม่ค่อยคุ้มเท่าไร

## Static Site Generator

เราจะคอยเรนเดอร์หน้าเว็บไซต์ทุกครั้งที่มีคนเข้าเว็บไปทำไมในเมื่อเนื้อหาก็เหมือนเดิม นานๆ ทีจะเปลี่ยนที Static Site Generator หรือ SSG จึงเกิดมาเพื่อแก้ปัญหานี้

แทนที่เราจะเก็บโพตส์เราลง Database ก็เปลี่ยนมาเก็บเป็นไฟล์ [Markdown](https://en.wikipedia.org/wiki/Markdown) แทน จากนั้นก็รัน SSG ให้ไปอ่านไฟล์ Markdown เอาไปเจนออกมาเป็นไฟล์ HTML ทุกหน้าของเว็บไซต์เรา แล้วเราก็เอาไฟล์ HTML ที่ได้มาไปอัพขึ้นเซิฟเวอร์ ทุกครั้งที่เราจะอัพเดทเว็บไซต์ก็แค่รัน SSG ใหม่แล้วเอาไฟล์ HTML ไปอัพโหลดขึ้นเซิฟก็จบ

ข้อดีของการทำแบบนี้คือเซิฟเวอร์ที่เราเช่าไม่จำเป็นจะต้องแรงขอแค่ฝากไฟล์ HTML ได้ ไม่ต้องมี Database ทำให้ประหยัดค่าใช้จ่ายขึ้น และเว็บไซต์เรายังเร็วขึ้นอีกด้วยเพราะไม่ต้องรอประมวลข้อมูลจาก Database แถมพอเก็บเป็นไฟล์ Markdown จะแบล๊คอัพขึ้น Cloud หรือ Flash drive ก็ทำได้ไม่โดนผูกไว้กับแพลตฟอร์มได้แพลตฟอร์มหนึ่ง จะแก้ไขตอนไหนก็ได้แม้แต่ตอนออฟไลน์ 

ข้อเสียของวิธีการนี้คือเราต้องจัดเก็บรักษาข้อมูลเอาเอง ต้องรัน SSG ใหม่ทุกครั้งที่มีการอัพเดทเนื้อหา และต้องเอา HTML อัพขึ้นเซิฟใหม่ตลอด แต่สำหรับบล็อกเล็ก ๆ ดูจะไม่ใช่ปัญหาสักเท่าไร

## Hugo

SSG ในปัจจุบันก็มีตัวเลือกให้ใช้อยู่หลายตัว ไม่ว่าจะเป็น [**Jekyll**](https://jekyllrb.com/), [**Hexo**](https://hexo.io/), [Middleman](https://middlemanapp.com/), [Gastsby](https://www.gatsbyjs.com/), [Gridsome](https://gridsome.org/) และอื่นๆ 

สำหรับผมแล้วมาจบที่ [Hugo](https://gohugo.io/) ด้วยความที่บล็อกผมไม่ได้ต้องการอะไรมาก ไม่รู้จะทำพวก Client Side Rendering(CSR) ไปทำไม ในเมื่อบล็อกก็ไม่ได้ต้องการลูกเล่นอะไรอยู่แล้ว ขออะไรที่ใช้ได้ง่ายและเร็วก็เพียงพอแล้ว ซึ่ง Hugo ตอบโจทย์นี้ทั้งหมด
- **เร็ว** Hugo เขียนด้วย Go เลยทำงานเร็วมากเมื่อ[เทียบกับ SSG ตัวอื่นๆ](https://css-tricks.com/comparing-static-site-generator-build-times/) ไฟล์เยอะแค่ไหนก็ยังเร็วอยู่
- **ใช้ได้เลย** โหลดมาลงแล้วใช้ได้เลย ไม่มี dependency ไม่มี node_modules ไม่ต้องลงอะไรเพิ่ม
- **ครบจบในตัว** อยากทำ Post-process เหรอทำได้เลย อยากเขียน SASS / SCSS เหรอเขียนได้เลย จะทำ minify หรือ bundle ก็ยังได้ ไม่ต้องลง node modules หรืออะไรเลย เรียกได้ว่ามีทุกอย่างครบจบในตัว

## SSG + Git

พอเราเก็บเป็นไฟล์ Markdown ทำให้เราสามารถเอาไปใช้กับ version control อย่าง git ได้! ซึ่งก็จะได้ประโยชน์ของ git มาด้วย ไม่ว่าจะเป็นการเก็บประวัติการแก้ไข การเก็บข้อมูลแบบกระจายศูนย์ หรือจะแจกจ่ายให้คนอื่นมาร่วมแก้ไขก็ทำได้

## Netlify



## เริ่มย้ายเนื้อหา

อยากแรกที่ต้องทำเลยคือย้ายโพตส์ทุกอย่างจาก Blogger ออกมา

**Tools***

https://github.com/palaniraja/blog2md